!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){(function(t){var n=r(1),s=r(2),i=r(4),o=r(14),d=r(19),a=r(20),g=r(21),h=r(5),l=r(7),u=r(9),c=r(8),_=r(22),f=r(3),p=r(17),I=r(6),D=r(10),E=r(23),N=r(24),y=r(25),v=r(26),m=r(27),w=r(29),b=r(31),O=r(32),k="undefined"!=typeof window?window:t;k.$G={core:{BaseEdge:n.BaseEdge,BaseNode:s.BaseNode,BaseGraph:i.BaseGraph,GraphMode:i.GraphMode},centralities:{Degree:y,Closeness:v,Betweenness:m,PageRankGauss:w,PageRankRandWalk:b},input:{CSVInput:o.CSVInput,JSONInput:a.JSONInput},output:{CSVOutput:d.CSVOutput,JSONOutput:g.JSONOutput},search:{BFS:h.BFS,prepareBFSStandardConfig:h.prepareBFSStandardConfig,DFS:l.DFS,DFSVisit:l.DFSVisit,prepareDFSStandardConfig:l.prepareDFSStandardConfig,prepareDFSVisitStandardConfig:l.prepareDFSVisitStandardConfig,PFS:u.PFS,preparePFSStandardConfig:u.preparePFSStandardConfig,BellmanFord:c,FloydWarshall:_},mincut:{MCMFBoykov:N.MCMFBoykov},utils:{struct:f,remote:p,callback:I},datastructs:{BinaryHeap:D.BinaryHeap},perturbation:{SimplePerturber:E.SimplePerturber},generators:{kronecker:O}},e.exports=k.$G}).call(t,function(){return this}())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);class s{constructor(e,t,r,s){if(this._id=e,this._node_a=t,this._node_b=r,!(t instanceof n.BaseNode&&r instanceof n.BaseNode))throw new Error("cannot instantiate edge without two valid node objects");s=s||{},this._directed=s.directed||!1,this._weighted=s.weighted||!1,this._weight=this._weighted?isNaN(s.weight)?1:s.weight:void 0,this._label=s.label||this._id}getID(){return this._id}getLabel(){return this._label}setLabel(e){this._label=e}isDirected(){return this._directed}isWeighted(){return this._weighted}getWeight(){return this._weight}setWeight(e){if(!this._weighted)throw new Error("Cannot set weight on unweighted edge.");this._weight=e}getNodes(){return{a:this._node_a,b:this._node_b}}clone(e,t){if(!(e instanceof n.BaseNode&&t instanceof n.BaseNode))throw new Error("refusing to clone edge if any new node is invalid");return new s(this._id,e,t,{directed:this._directed,weighted:this._weighted,weight:this._weight,label:this._label})}}t.BaseEdge=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);class s{constructor(e,t){this._id=e,this._in_degree=0,this._out_degree=0,this._und_degree=0,this._in_edges={},this._out_edges={},this._und_edges={},this._features=void 0!==t?n.clone(t):{},this._label=this._features.label||this._id}getID(){return this._id}getLabel(){return this._label}setLabel(e){this._label=e}getFeatures(){return this._features}getFeature(e){return this._features[e]}setFeatures(e){this._features=n.clone(e)}setFeature(e,t){this._features[e]=t}deleteFeature(e){var t=this._features[e];return delete this._features[e],t}clearFeatures(){this._features={}}inDegree(){return this._in_degree}outDegree(){return this._out_degree}degree(){return this._und_degree}addEdge(e){var t=e.getNodes();if(t.a!==this&&t.b!==this)throw new Error("Cannot add edge that does not connect to this node");var r=e.getID();if(e.isDirected())t.a!==this||this._out_edges[r]?this._in_edges[r]||(this._in_edges[e.getID()]=e,this._in_degree+=1):(this._out_edges[r]=e,this._out_degree+=1,t.b!==this||this._in_edges[r]||(this._in_edges[e.getID()]=e,this._in_degree+=1));else{if(this._und_edges[e.getID()])throw new Error("Cannot add same undirected edge multiple times.");this._und_edges[e.getID()]=e,this._und_degree+=1}}hasEdge(e){return!!this._in_edges[e.getID()]||!!this._out_edges[e.getID()]||!!this._und_edges[e.getID()]}hasEdgeID(e){return!!this._in_edges[e]||!!this._out_edges[e]||!!this._und_edges[e]}getEdge(e){var t=this._in_edges[e]||this._out_edges[e]||this._und_edges[e];if(!t)throw new Error("Cannot retrieve non-existing edge.");return t}inEdges(){return this._in_edges}outEdges(){return this._out_edges}undEdges(){return this._und_edges}dirEdges(){return n.mergeObjects([this._in_edges,this._out_edges])}allEdges(){return n.mergeObjects([this._in_edges,this._out_edges,this._und_edges])}removeEdge(e){if(!this.hasEdge(e))throw new Error("Cannot remove unconnected edge.");var t=e.getID(),r=this._und_edges[t];r&&(delete this._und_edges[t],this._und_degree-=1),(r=this._in_edges[t])&&(delete this._in_edges[t],this._in_degree-=1),(r=this._out_edges[t])&&(delete this._out_edges[t],this._out_degree-=1)}removeEdgeID(e){if(!this.hasEdgeID(e))throw new Error("Cannot remove unconnected edge.");var t=this._und_edges[e];t&&(delete this._und_edges[e],this._und_degree-=1),(t=this._in_edges[e])&&(delete this._in_edges[e],this._in_degree-=1),(t=this._out_edges[e])&&(delete this._out_edges[e],this._out_degree-=1)}clearOutEdges(){this._out_edges={},this._out_degree=0}clearInEdges(){this._in_edges={},this._in_degree=0}clearUndEdges(){this._und_edges={},this._und_degree=0}clearEdges(){this.clearInEdges(),this.clearOutEdges(),this.clearUndEdges()}prevNodes(){var e,t,r=[];for(e in this._in_edges)this._in_edges.hasOwnProperty(e)&&(t=this._in_edges[e],r.push({node:t.getNodes().a,edge:t}));return r}nextNodes(){var e,t,r=[];for(e in this._out_edges)this._out_edges.hasOwnProperty(e)&&(t=this._out_edges[e],r.push({node:t.getNodes().b,edge:t}));return r}connNodes(){var e,t,r=[];for(e in this._und_edges){if(this._und_edges.hasOwnProperty(e))(t=this._und_edges[e]).getNodes().a===this?r.push({node:t.getNodes().b,edge:t}):r.push({node:t.getNodes().a,edge:t})}return r}reachNodes(e){var t=0;return n.mergeArrays([this.nextNodes(),this.connNodes()],e||function(e){return t++})}clone(){let e=new s(this._id);return e.setFeatures(this.getFeatures()),e}}t.BaseNode=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),s=r(1);t.clone=function e(t){if(null===t||"object"!=typeof t)return t;if(!(t instanceof n.BaseNode||t instanceof s.BaseEdge)){var r=t.constructor?t.constructor():{};for(var i in t)t.hasOwnProperty(i)&&("object"==typeof t[i]?r[i]=e(t[i]):r[i]=t[i]);return r}},t.mergeArrays=function(e,t){for(var r in e)if(!Array.isArray(e[r]))throw new Error("Will only mergeArrays arrays");for(var n,s={},i=[],o=0;o<e.length;o++)for(var d=0;d<e[o].length;d++)!0!==s[n=void 0!==t?t(e[o][d]):e[o][d]]&&(i.push(e[o][d]),s[n]=!0);return i},t.mergeObjects=function(e){for(var t=0;t<e.length;t++)if("[object Object]"!==Object.prototype.toString.call(e[t]))throw new Error("Will only take objects as inputs");var r={};for(t=0;t<e.length;t++)for(var n in e[t])e[t].hasOwnProperty(n)&&(r[n]=e[t][n]);return r},t.findKey=function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r},t.mergeOrderedArraysNoDups=function(e,t){let r=[],n=0,s=0;if(null!=e[0]&&null!=t[0])for(;!(n>=e.length||s>=t.length);)e[n]!=t[s]?e[n]<t[s]?(r.push(e[n]),n++):t[s]<e[n]&&(r.push(t[s]),s++):(r[r.length-1]!=e[n]&&r.push(e[n]),n++,s++);for(;n<e.length;)null!=e[n]&&r.push(e[n]),n++;for(;s<t.length;)null!=t[s]&&r.push(t[s]),s++;return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),s=r(1),i=r(3),o=r(5),d=r(7),a=r(8);new(r(11).Logger);const g=1;var h;!function(e){e[e.INIT=0]="INIT",e[e.DIRECTED=1]="DIRECTED",e[e.UNDIRECTED=2]="UNDIRECTED",e[e.MIXED=3]="MIXED"}(h=t.GraphMode||(t.GraphMode={}));class l{constructor(e){this._label=e,this._nr_nodes=0,this._nr_dir_edges=0,this._nr_und_edges=0,this._mode=h.INIT,this._nodes={},this._dir_edges={},this._und_edges={}}toDirectedGraph(e=!1){let t=e?this.clone():this;if(0===this._nr_dir_edges&&0===this._nr_und_edges)throw new Error("Cowardly refusing to re-interpret an empty graph.");return t}toUndirectedGraph(){return this}hasNegativeEdge(){let e,t=!1;for(let t in this._und_edges)if((e=this._und_edges[t]).isWeighted()&&e.getWeight()<0)return!0;for(let r in this._dir_edges)if((e=this._dir_edges[r]).isWeighted()&&e.getWeight()<0){t=!0;break}return t}hasNegativeCycles(e){if(!this.hasNegativeEdge())return!1;let t=!1,r=e||this.getRandomNode();return d.DFS(this,r).forEach(e=>{let r,n=Number.POSITIVE_INFINITY;Object.keys(e).forEach(t=>{n>e[t].counter&&(n=e[t].counter,r=t)}),a.BellmanFordArray(this,this._nodes[r]).neg_cycle&&(t=!0)}),t}nextArray(e=!1){let t=[],r=Object.keys(this._nodes);const n=this.adjListDict(e,!0,0);for(let e=0;e<this._nr_nodes;++e){t.push([]);for(let s=0;s<this._nr_nodes;++s)t[e].push([]),t[e][s].push(e===s?s:isFinite(n[r[e]][r[s]])?s:null)}return t}adjListArray(e=!1){let t=[],r=Object.keys(this._nodes);const n=this.adjListDict(e,!0,0);for(let e=0;e<this._nr_nodes;++e){t.push([]);for(let s=0;s<this._nr_nodes;++s)t[e].push(e===s?0:isFinite(n[r[e]][r[s]])?n[r[e]][r[s]]:Number.POSITIVE_INFINITY)}return t}adjListDict(e=!1,t=!1,r=0){let n,s,i,o={},d=this.getNodes();for(s in d)o[s]={},t&&(o[s][s]=r);for(s in d){(e?d[s].reachNodes().concat(d[s].prevNodes()):d[s].reachNodes()).forEach(t=>{n=o[s][t.node.getID()]||Number.POSITIVE_INFINITY,(i=isNaN(t.edge.getWeight())?g:t.edge.getWeight())<n?(o[s][t.node.getID()]=i,e&&(o[t.node.getID()][s]=i)):(o[s][t.node.getID()]=n,e&&(o[t.node.getID()][s]=n))})}return o}getMode(){return this._mode}getStats(){return{mode:this._mode,nr_nodes:this._nr_nodes,nr_und_edges:this._nr_und_edges,nr_dir_edges:this._nr_dir_edges,density_dir:this._nr_dir_edges/(this._nr_nodes*(this._nr_nodes-1)),density_und:2*this._nr_und_edges/(this._nr_nodes*(this._nr_nodes-1))}}nrNodes(){return this._nr_nodes}nrDirEdges(){return this._nr_dir_edges}nrUndEdges(){return this._nr_und_edges}addNodeByID(e,t){if(this.hasNodeID(e))throw new Error("Won't add node with duplicate ID.");var r=new n.BaseNode(e,t);return this.addNode(r)?r:null}addNode(e){if(this.hasNodeID(e.getID()))throw new Error("Won't add node with duplicate ID.");return this._nodes[e.getID()]=e,this._nr_nodes+=1,!0}cloneAndAddNode(e){let t=new n.BaseNode(e.getID());return t.setFeatures(i.clone(e.getFeatures())),this._nodes[e.getID()]=t,this._nr_nodes+=1,t}hasNodeID(e){return!!this._nodes[e]}getNodeById(e){return this._nodes[e]}getNodes(){return this._nodes}getRandomNode(){return this.pickRandomProperty(this._nodes)}deleteNode(e){if(!this._nodes[e.getID()])throw new Error("Cannot remove un-added node.");var t=e.inDegree(),r=e.outDegree(),n=e.degree();t&&this.deleteInEdgesOf(e),r&&this.deleteOutEdgesOf(e),n&&this.deleteUndEdgesOf(e),delete this._nodes[e.getID()],this._nr_nodes-=1}hasEdgeID(e){return!!this._dir_edges[e]||!!this._und_edges[e]}getEdgeById(e){var t=this._dir_edges[e]||this._und_edges[e];if(!t)throw new Error("cannot retrieve edge with non-existing ID.");return t}checkExistanceOfEdgeNodes(e,t){if(!e)throw new Error("Cannot find edge. Node A does not exist (in graph).");if(!t)throw new Error("Cannot find edge. Node B does not exist (in graph).")}getDirEdgeByNodeIDs(e,t){const r=this.getNodeById(e),n=this.getNodeById(t);this.checkExistanceOfEdgeNodes(r,n);let s=r.outEdges(),i=Object.keys(s);for(let e=0;e<i.length;e++){var o=s[i[e]];if(o.getNodes().b.getID()==t)return o}throw new Error(`Cannot find edge. There is no edge between Node ${e} and ${t}.`)}getUndEdgeByNodeIDs(e,t){const r=this.getNodeById(e),n=this.getNodeById(t);this.checkExistanceOfEdgeNodes(r,n);let s=r.undEdges(),i=Object.keys(s);for(let r=0;r<i.length;r++){var o=s[i[r]];if((o.getNodes().a.getID()==e?o.getNodes().b.getID():o.getNodes().a.getID())==t)return o}}getDirEdges(){return this._dir_edges}getUndEdges(){return this._und_edges}getDirEdgesArray(){let e=[];for(let t in this._dir_edges)e.push(this._dir_edges[t]);return e}getUndEdgesArray(){let e=[];for(let t in this._und_edges)e.push(this._und_edges[t]);return e}addEdgeByNodeIDs(e,t,r,n){var s=this.getNodeById(t),i=this.getNodeById(r);if(s){if(i)return this.addEdgeByID(e,s,i,n);throw new Error("Cannot add edge. Node B does not exist")}throw new Error("Cannot add edge. Node A does not exist")}addEdgeByID(e,t,r,n){let i=new s.BaseEdge(e,t,r,n||{});return this.addEdge(i)}addEdge(e){let t=e.getNodes().a,r=e.getNodes().b;if(!this.hasNodeID(t.getID())||!this.hasNodeID(r.getID())||this._nodes[t.getID()]!==t||this._nodes[r.getID()]!==r)throw new Error("can only add edge between two nodes existing in graph");return t.addEdge(e),e.isDirected()?(r.addEdge(e),this._dir_edges[e.getID()]=e,this._nr_dir_edges+=1,this.updateGraphMode()):(t!==r&&r.addEdge(e),this._und_edges[e.getID()]=e,this._nr_und_edges+=1,this.updateGraphMode()),e}deleteEdge(e){var t=this._dir_edges[e.getID()],r=this._und_edges[e.getID()];if(!t&&!r)throw new Error("cannot remove non-existing edge.");var n=e.getNodes();n.a.removeEdge(e),n.a!==n.b&&n.b.removeEdge(e),t?(delete this._dir_edges[e.getID()],this._nr_dir_edges-=1):(delete this._und_edges[e.getID()],this._nr_und_edges-=1),this.updateGraphMode()}deleteInEdgesOf(e){this.checkConnectedNodeOrThrow(e);var t,r,n=e.inEdges();for(t in n)(r=n[t]).getNodes().a.removeEdge(r),delete this._dir_edges[r.getID()],this._nr_dir_edges-=1;e.clearInEdges(),this.updateGraphMode()}deleteOutEdgesOf(e){this.checkConnectedNodeOrThrow(e);var t,r,n=e.outEdges();for(t in n)(r=n[t]).getNodes().b.removeEdge(r),delete this._dir_edges[r.getID()],this._nr_dir_edges-=1;e.clearOutEdges(),this.updateGraphMode()}deleteDirEdgesOf(e){this.deleteInEdgesOf(e),this.deleteOutEdgesOf(e)}deleteUndEdgesOf(e){this.checkConnectedNodeOrThrow(e);var t,r,n=e.undEdges();for(t in n){var s=(r=n[t]).getNodes();s.a.removeEdge(r),s.a!==s.b&&s.b.removeEdge(r),delete this._und_edges[r.getID()],this._nr_und_edges-=1}e.clearUndEdges(),this.updateGraphMode()}deleteAllEdgesOf(e){this.deleteDirEdgesOf(e),this.deleteUndEdgesOf(e)}clearAllDirEdges(){for(var e in this._dir_edges)this.deleteEdge(this._dir_edges[e])}clearAllUndEdges(){for(var e in this._und_edges)this.deleteEdge(this._und_edges[e])}clearAllEdges(){this.clearAllDirEdges(),this.clearAllUndEdges()}getRandomDirEdge(){return this.pickRandomProperty(this._dir_edges)}getRandomUndEdge(){return this.pickRandomProperty(this._und_edges)}clone(){let e,t=new l(this._label),r=this.getNodes(),n=null,s=null;for(let e in r)t.addNode(r[e].clone());return[this.getDirEdges(),this.getUndEdges()].forEach(r=>{for(let i in r)e=r[i],n=t.getNodeById(e.getNodes().a.getID()),s=t.getNodeById(e.getNodes().b.getID()),t.addEdge(e.clone(n,s))}),t}cloneSubGraph(e,t){let r=new l(this._label),n=o.prepareBFSStandardConfig();n.callbacks.node_unmarked.push(function(e){n.result[e.next_node.getID()].counter>t?e.queue=[]:r.addNode(e.next_node.clone())}),o.BFS(this,e,n);let s,i=null,d=null;return[this.getDirEdges(),this.getUndEdges()].forEach(e=>{for(let t in e)s=e[t],i=r.getNodeById(s.getNodes().a.getID()),d=r.getNodeById(s.getNodes().b.getID()),null!=i&&null!=d&&r.addEdge(s.clone(i,d))}),r}checkConnectedNodeOrThrow(e){if(!(e=this._nodes[e.getID()]))throw new Error("Cowardly refusing to delete edges of un-added node.")}updateGraphMode(){var e=this._nr_dir_edges,t=this._nr_und_edges;this._mode=e&&t?h.MIXED:e?h.DIRECTED:t?h.UNDIRECTED:h.INIT}pickRandomProperty(e){let t=Object.keys(e);return e[t[Math.floor(Math.random()*t.length)]]}pickRandomProperties(e,t){let r=[],n=Object.keys(e),s=t/n.length,i={};for(let e=0;r.length<t&&e<n.length;e++)Math.random()<s&&(r.push(n[e]),i[n[e]]=e);let o=t-r.length;for(let e=0;e<n.length&&o;e++)null==i[n[e]]&&(r.push(n[e]),o--);return r}}t.BaseGraph=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),s=r(6);function i(){var e={result:{},callbacks:{init_bfs:[],node_unmarked:[],node_marked:[],sort_nodes:void 0},dir_mode:n.GraphMode.MIXED,messages:{},filters:{}},t=e.result,r=e.callbacks,s=0,i=function(){return s++};r.init_bfs.push(function(t){for(var r in t.nodes)e.result[r]={distance:Number.POSITIVE_INFINITY,parent:null,counter:-1};e.result[t.root_node.getID()]={distance:0,parent:t.root_node,counter:i()}});return r.node_unmarked.push(function(r){e.result[r.next_node.getID()]={distance:t[r.current.getID()].distance+1,parent:r.current,counter:i()},r.queue.push(r.next_node)}),e}t.BFS=function(e,t,r){var o=(r=r||i()).callbacks,d=r.dir_mode;if(e.getMode()===n.GraphMode.INIT)throw new Error("Cowardly refusing to traverse graph without edges.");if(d===n.GraphMode.INIT)throw new Error("Cannot traverse a graph with dir_mode set to INIT.");var a={marked:{},nodes:e.getNodes(),queue:[],current:null,next_node:null,next_edge:null,root_node:t,adj_nodes:[]};o.init_bfs&&s.execCallbacks(o.init_bfs,a),a.queue.push(t);for(var g=0;g<a.queue.length;)for(var h in a.current=a.queue[g++],d===n.GraphMode.MIXED?a.adj_nodes=a.current.reachNodes():d===n.GraphMode.UNDIRECTED?a.adj_nodes=a.current.connNodes():d===n.GraphMode.DIRECTED?a.adj_nodes=a.current.nextNodes():a.adj_nodes=[],"function"==typeof o.sort_nodes&&o.sort_nodes(a),a.adj_nodes)a.next_node=a.adj_nodes[h].node,a.next_edge=a.adj_nodes[h].edge,r.result[a.next_node.getID()].distance===Number.POSITIVE_INFINITY?o.node_unmarked&&s.execCallbacks(o.node_unmarked,a):o.node_marked&&s.execCallbacks(o.node_marked,a);return r.result},t.prepareBFSStandardConfig=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execCallbacks=function(e,t){e.forEach(function(e){if("function"!=typeof e)throw new Error("Provided callback is not a function.");e(t)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),s=r(6);function i(e,t,r){var i={stack:[],adj_nodes:[],stack_entry:null,current:null,current_root:t},d=(r=r||o()).callbacks,a=r.dir_mode;if(e.getMode()===n.GraphMode.INIT)throw new Error("Cowardly refusing to traverse graph without edges.");if(a===n.GraphMode.INIT)throw new Error("Cannot traverse a graph with dir_mode set to INIT.");for(d.init_dfs_visit&&s.execCallbacks(d.init_dfs_visit,i),i.stack.push({node:t,parent:t,weight:0});i.stack.length;)if(i.stack_entry=i.stack.pop(),i.current=i.stack_entry.node,d.node_popped&&s.execCallbacks(d.node_popped,i),r.dfs_visit_marked[i.current.getID()])d.node_marked&&s.execCallbacks(d.node_marked,i);else{for(var g in r.dfs_visit_marked[i.current.getID()]=!0,d.node_unmarked&&s.execCallbacks(d.node_unmarked,i),a===n.GraphMode.MIXED?i.adj_nodes=i.current.reachNodes():a===n.GraphMode.UNDIRECTED?i.adj_nodes=i.current.connNodes():a===n.GraphMode.DIRECTED&&(i.adj_nodes=i.current.nextNodes()),"function"==typeof d.sort_nodes&&d.sort_nodes(i),i.adj_nodes)i.stack.push({node:i.adj_nodes[g].node,parent:i.current,weight:i.adj_nodes[g].edge.getWeight()});d.adj_nodes_pushed&&s.execCallbacks(d.adj_nodes_pushed,i)}return r.visit_result}function o(){var e={visit_result:{},callbacks:{},messages:{},dfs_visit_marked:{},dir_mode:n.GraphMode.MIXED},t=e.visit_result,r=e.callbacks,s=0;r.init_dfs_visit=r.init_dfs_visit||[];r.init_dfs_visit.push(function(e){t[e.current_root.getID()]={parent:e.current_root}}),r.node_unmarked=r.node_unmarked||[];return r.node_unmarked.push(function(e){t[e.current.getID()]={parent:e.stack_entry.parent,counter:s++}}),e}function d(){var e=o(),t=e.callbacks;e.visit_result;t.init_dfs=t.init_dfs||[];return t.init_dfs.push(function(e){}),e}t.DFSVisit=i,t.DFS=function(e,t,r){var o=(r=r||d()).callbacks,a=r.dir_mode;if(e.getMode()===n.GraphMode.INIT)throw new Error("Cowardly refusing to traverse graph without edges.");if(a===n.GraphMode.INIT)throw new Error("Cannot traverse a graph with dir_mode set to INIT.");var g={marked:{},nodes:e.getNodes()};o.init_dfs&&s.execCallbacks(o.init_dfs,g),o.adj_nodes_pushed=o.adj_nodes_pushed||[],o.adj_nodes_pushed.push(function(e){g.marked[e.current.getID()]=!0});var h=[{}],l=0,u=0;for(var c in o&&o.node_unmarked&&o.node_unmarked.push(function(e){h[l][e.current.getID()]={parent:e.stack_entry.parent,counter:u++}}),i(e,t,r),g.nodes)g.marked[c]||(l++,h.push({}),i(e,g.nodes[c],r));return h},t.prepareDFSVisitStandardConfig=o,t.prepareDFSStandardConfig=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9);function s(e,t){if(null==e||null==t)throw new Error("Graph as well as start node have to be valid objects.");if(0===e.nrDirEdges()&&0===e.nrUndEdges())throw new Error("Cowardly refusing to traverse a graph without edges.");if(!e.hasNodeID(t.getID()))throw new Error("Cannot start from an outside node.")}t.BellmanFordArray=function(e,t){s(e,t);let r,i,o,d=[],a=e.getNodes(),g=Object.keys(a),h={},l=!1;for(let e=0;e<g.length;++e)i=a[g[e]],d[e]=i===t?0:Number.POSITIVE_INFINITY,h[i.getID()]=e;let u=e.getDirEdgesArray().concat(e.getUndEdgesArray()),c=[];for(let e=0;e<u.length;++e)r=u[e],c.push([h[r.getNodes().a.getID()],h[r.getNodes().b.getID()],isFinite(r.getWeight())?r.getWeight():n.DEFAULT_WEIGHT,r.isDirected()]);for(let e=0;e<g.length-1;++e)for(let e=0;e<c.length;++e)_((r=c[e])[0],r[1],r[2]),!r[3]&&_(r[1],r[0],r[2]);for(let e=0;e<c.length;++e)if(f((r=c[e])[0],r[1],r[2])||!r[3]&&f(r[1],r[0],r[2])){l=!0;break}function _(e,t,r){o=d[e]+r,d[t]>o&&(d[t]=o)}function f(e,t,r){return d[t]>d[e]+r}return{distances:d,neg_cycle:l}},t.BellmanFordDict=function(e,t){s(e,t);let r,i,o,d,a,g,h,l={},u=!1;l={},r=e.getDirEdgesArray().concat(e.getUndEdgesArray()),h=e.nrNodes();for(let t in e.getNodes())l[t]=Number.POSITIVE_INFINITY;l[t.getID()]=0;for(let e=0;e<h-1;++e)for(let e=0;e<r.length;++e)c(o=(i=r[e]).getNodes().a.getID(),d=i.getNodes().b.getID(),a=isFinite(i.getWeight())?i.getWeight():n.DEFAULT_WEIGHT),!i.isDirected()&&c(d,o,a);for(let e in r)(_(o=(i=r[e]).getNodes().a.getID(),d=i.getNodes().b.getID(),a=isFinite(i.getWeight())?i.getWeight():n.DEFAULT_WEIGHT)||!i.isDirected()&&_(d,o,a))&&(u=!0);function c(e,t,r){g=l[e]+r,l[t]>g&&(l[t]=g)}function _(e,t,r){return l[t]>l[e]+r}return{distances:l,neg_cycle:u}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),s=r(4),i=r(6),o=r(10);function d(){var e={result:{},callbacks:{init_pfs:[],new_current:[],not_encountered:[],node_open:[],node_closed:[],better_path:[],equal_path:[],goal_reached:[]},messages:{init_pfs_msgs:[],new_current_msgs:[],not_enc_msgs:[],node_open_msgs:[],node_closed_msgs:[],better_path_msgs:[],equal_path_msgs:[],goal_reached_msgs:[]},dir_mode:s.GraphMode.MIXED,goal_node:null,evalPriority:function(e){return e.best||t.DEFAULT_WEIGHT},evalObjID:function(e){return e.node.getID()}},r=e.callbacks,n=0;r.init_pfs.push(function(t){for(var r in t.nodes)e.result[r]={distance:Number.POSITIVE_INFINITY,parent:null,counter:-1};e.result[t.root_node.getID()]={distance:0,parent:t.root_node,counter:n++}});r.not_encountered.push(function(r){r.next.best=r.current.best+(isNaN(r.next.edge.getWeight())?t.DEFAULT_WEIGHT:r.next.edge.getWeight()),e.result[r.next.node.getID()]={distance:r.next.best,parent:r.current.node,counter:void 0}});return r.better_path.push(function(t){e.result[t.next.node.getID()].distance=t.proposed_dist,e.result[t.next.node.getID()].parent=t.current.node}),e}t.DEFAULT_WEIGHT=1,t.PFS=function(e,r,a){var g=(a=a||d()).callbacks,h=a.dir_mode,l=a.evalPriority,u=a.evalObjID;if(e.getMode()===s.GraphMode.INIT)throw new Error("Cowardly refusing to traverse graph without edges.");if(h===s.GraphMode.INIT)throw new Error("Cannot traverse a graph with dir_mode set to INIT.");var c={node:r,edge:new n.BaseEdge("virtual start edge",r,r,{weighted:!0,weight:0}),best:0},_={OPEN_HEAP:new o.BinaryHeap(o.BinaryHeapMode.MIN,l,u),OPEN:{},CLOSED:{},nodes:e.getNodes(),root_node:r,current:c,adj_nodes:[],next:null,proposed_dist:Number.POSITIVE_INFINITY};for(g.init_pfs&&i.execCallbacks(g.init_pfs,_),_.OPEN_HEAP.insert(c),_.OPEN[c.node.getID()]=c;_.OPEN_HEAP.size();){if(_.current=_.OPEN_HEAP.pop(),g.new_current&&i.execCallbacks(g.new_current,_),null==_.current&&console.log("HEAP popped undefined - HEAP size: "+_.OPEN_HEAP.size()),_.OPEN[_.current.node.getID()]=void 0,_.CLOSED[_.current.node.getID()]=_.current,_.current.node===a.goal_node)return a.callbacks.goal_reached&&i.execCallbacks(a.callbacks.goal_reached,_),a.result;if(h===s.GraphMode.MIXED)_.adj_nodes=_.current.node.reachNodes();else if(h===s.GraphMode.UNDIRECTED)_.adj_nodes=_.current.node.connNodes();else{if(h!==s.GraphMode.DIRECTED)throw new Error("Unsupported traversal mode. Please use directed, undirected, or mixed");_.adj_nodes=_.current.node.nextNodes()}for(var f in _.adj_nodes)_.next=_.adj_nodes[f],_.CLOSED[_.next.node.getID()]?a.callbacks.node_closed&&i.execCallbacks(a.callbacks.node_closed,_):_.OPEN[_.next.node.getID()]?(_.next.best=_.OPEN[_.next.node.getID()].best,a.callbacks.node_open&&i.execCallbacks(a.callbacks.node_open,_),_.proposed_dist=_.current.best+(isNaN(_.next.edge.getWeight())?t.DEFAULT_WEIGHT:_.next.edge.getWeight()),_.next.best>_.proposed_dist?(a.callbacks.better_path&&i.execCallbacks(a.callbacks.better_path,_),_.OPEN_HEAP.remove(_.next),_.next.best=_.proposed_dist,_.OPEN_HEAP.insert(_.next),_.OPEN[_.next.node.getID()].best=_.proposed_dist):_.next.best===_.proposed_dist&&a.callbacks.equal_path&&i.execCallbacks(a.callbacks.equal_path,_)):(a.callbacks.not_encountered&&i.execCallbacks(a.callbacks.not_encountered,_),_.OPEN_HEAP.insert(_.next),_.OPEN[_.next.node.getID()]=_.next)}return a.result},t.preparePFSStandardConfig=d},function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MIN=0]="MIN",e[e.MAX=1]="MAX"}(r=t.BinaryHeapMode||(t.BinaryHeapMode={}));t.BinaryHeap=class{constructor(e=r.MIN,t=(e=>"number"!=typeof e&&"string"!=typeof e?NaN:"number"==typeof e?0|e:parseInt(e)),n=(e=>e)){this._mode=e,this._evalPriority=t,this._evalObjID=n,this._nr_removes=0,this._array=[],this._positions={}}getMode(){return this._mode}getArray(){return this._array}getPositions(){return this._positions}size(){return this._array.length}getEvalPriorityFun(){return this._evalPriority}evalInputScore(e){return this._evalPriority(e)}getEvalObjIDFun(){return this._evalObjID}evalInputObjID(e){return this._evalObjID(e)}peek(){return this._array[0]}pop(){if(this.size())return this.remove(this._array[0])}find(e){var t=this.getNodePosition(e);return this._array[t]}insert(e){if(isNaN(this._evalPriority(e)))throw new Error("Cannot insert object without numeric priority.");this._array.push(e),this.setNodePosition(e,this.size()-1),this.trickleUp(this.size()-1)}remove(e){if(this._nr_removes++,isNaN(this._evalPriority(e)))throw new Error("Object invalid.");this._evalObjID(e);var t=null,r=this.getNodePosition(e);if(null!==(t=null!=this._array[r]?this._array[r]:null)){var n=this._array.pop();return this.removeNodePosition(e),this.size()&&t!==n&&(this._array[r]=n,this.setNodePosition(n,r),this.trickleUp(r),this.trickleDown(r)),t}}trickleDown(e){for(var t=this._array[e];;){var r=2*(e+1),n=r-1,s=this._array[r],i=this._array[n],o=null;if(n<this.size()&&!this.orderCorrect(t,i)&&(o=n),r<this.size()&&!this.orderCorrect(t,s)&&!this.orderCorrect(i,s)&&(o=r),null===o)break;this._array[e]=this._array[o],this._array[o]=t,this.setNodePosition(this._array[e],e),this.setNodePosition(this._array[o],o),e=o}}trickleUp(e){for(var t=this._array[e];e;){var r=Math.floor((e+1)/2)-1,n=this._array[r];if(this.orderCorrect(n,t))break;this._array[r]=t,this._array[e]=n,this.setNodePosition(t,r),this.setNodePosition(n,e),e=r}}orderCorrect(e,t){var n=this._evalPriority(e),s=this._evalPriority(t);return this._mode===r.MIN?n<=s:n>=s}setNodePosition(e,t){if(null==e||null==t||t!==(0|t))throw new Error("minium required arguments are obj and new_pos");var r={score:this.evalInputScore(e),position:t},n=this.evalInputObjID(e);this._positions[n]=r}getNodePosition(e){var t=this.evalInputObjID(e),r=this._positions[t];return r?r.position:null}removeNodePosition(e){var t=this.evalInputObjID(e);delete this._positions[t]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12);t.Logger=class{constructor(e){this.config=null,this.config=e||n.RUN_CONFIG}log(e){return this.config.log_level===n.LOG_LEVELS.debug&&(console.log.apply(console,Array.prototype.slice.call(arguments)),!0)}error(e){return this.config.log_level===n.LOG_LEVELS.debug&&(console.error.apply(console,Array.prototype.slice.call(arguments)),!0)}dir(e){return this.config.log_level===n.LOG_LEVELS.debug&&(console.dir.apply(console,Array.prototype.slice.call(arguments)),!0)}info(e){return this.config.log_level===n.LOG_LEVELS.debug&&(console.info.apply(console,Array.prototype.slice.call(arguments)),!0)}warn(e){return this.config.log_level===n.LOG_LEVELS.debug&&(console.warn.apply(console,Array.prototype.slice.call(arguments)),!0)}}},function(e,t,r){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOG_LEVELS={debug:"debug",production:"production"};const r={log_level:e.env.G_LOG};t.RUN_CONFIG=r}).call(t,r(13))},function(e,t){var r,n,s=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function d(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,g=[],h=!1,l=-1;function u(){h&&a&&(h=!1,a.length?g=a.concat(g):l=-1,g.length&&c())}function c(){if(!h){var e=d(u);h=!0;for(var t=g.length;t;){for(a=g,g=[];++l<t;)a&&a[l].run();l=-1,t=g.length}a=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];g.push(new _(e,t)),1!==g.length||h||d(c)},_.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15),s=r(16),i=r(4),o=r(17);let d=new(r(11).Logger);const a=1,g=".csv";t.CSVInput=class{constructor(e=",",t=!0,r=!1,n=!1){this._separator=e,this._explicit_direction=t,this._direction_mode=r,this._weighted=n}readFromAdjacencyListURL(e,t){this.readGraphFromURL(e,t,this.readFromAdjacencyList)}readFromEdgeListURL(e,t){this.readGraphFromURL(e,t,this.readFromEdgeList)}readGraphFromURL(e,t,r){var n,s,i=this,a=e.file_name;if("undefined"!=typeof window){let o=e.remote_host+e.remote_path+e.file_name+g;d.log(`Requesting file via XMLHTTPRequest: ${o}`),(s=new XMLHttpRequest).onreadystatechange=function(){if(4==s.readyState&&200==s.status){var e=s.responseText.split("\n");n=r.apply(i,[e,a]),t(n,void 0)}},s.open("GET",o,!0),s.setRequestHeader("Content-Type","text/csv; charset=ISO-8859-1"),s.send()}else o.retrieveRemoteFile(e,function(e){var s=e.toString().split("\n");n=r.apply(i,[s,a]),t(n,void 0)})}readFromAdjacencyListFile(e){return this.readFileAndReturn(e,this.readFromAdjacencyList)}readFromEdgeListFile(e){return this.readFileAndReturn(e,this.readFromEdgeList)}readFileAndReturn(e,t){this.checkNodeEnvironment();var r=n.basename(e),i=s.readFileSync(e).toString().split("\n");return t.apply(this,[i,r])}readFromAdjacencyList(e,t){var r=new i.BaseGraph(t);for(var n in e){var s,o,d,a,g,h,l,u=e[n],c=this._separator.match(/\s+/g)?u.match(/\S+/g):u.replace(/\s+/g,"").split(this._separator),_=c[0],f=c.slice(1);if(_){s=r.hasNodeID(_)?r.getNodeById(_):r.addNodeByID(_);for(var p=0;p<f.length;){if(this._explicit_direction&&(!f||f.length%2))throw new Error("Every edge entry has to contain its direction info in explicit mode.");if(o=f[p++],d=r.hasNodeID(o)?r.getNodeById(o):r.addNodeByID(o),"d"!==(a=this._explicit_direction?f[p++]:this._direction_mode?"d":"u")&&"u"!==a)throw new Error("Specification of edge direction invalid (d and u are valid).");g="d"===a,h=_+"_"+o+"_"+a,l=o+"_"+_+"_"+a,r.hasEdgeID(h)||!g&&r.hasEdgeID(l)||r.addEdgeByID(h,s,d,{directed:g})}}}return r}readFromEdgeList(e,t,r=!1){var n=new i.BaseGraph(t);for(var s in e){var o=e[s],g=this._separator.match(/\s+/g)?o.match(/\S+/g):o.replace(/\s+/g,"").split(this._separator);if(g){if(g.length<2||g.length>3)throw d.log(g),new Error("Edge list is in wrong format - every line has to consist of two entries (the 2 nodes)");var h,l,u,c,_,f,p,I=g[0],D=g[1],E=this._explicit_direction?g[2]:this._direction_mode?"d":"u";if(h=n.hasNodeID(I)?n.getNodeById(I):n.addNodeByID(I),l=n.hasNodeID(D)?n.getNodeById(D):n.addNodeByID(D),"d"!==E&&"u"!==E)throw new Error("Specification of edge direction invalid (d and u are valid).");u="d"===E,c=I+"_"+D+"_"+E,_=D+"_"+I+"_"+E,f=parseFloat(g[2]),p=this._weighted?isNaN(f)?a:f:null,n.hasEdgeID(c)||!u&&n.hasEdgeID(_)||(this._weighted?n.addEdgeByID(c,h,l,{directed:u,weighted:!0,weight:p}):n.addEdgeByID(c,h,l,{directed:u}))}}return n}checkNodeEnvironment(){if("undefined"!=typeof window)throw new Error("Cannot read file in browser environment.")}}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var s=e[n];"."===s?e.splice(n,1):".."===s?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return n.exec(e).slice(1)};function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o.charAt(0))}return(n?"/":"")+(t=r(i(t.split("/"),function(e){return!!e}),!n).join("/"))||"."},t.normalize=function(e){var n=t.isAbsolute(e),s="/"===o(e,-1);return(e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var s=n(e.split("/")),i=n(r.split("/")),o=Math.min(s.length,i.length),d=o,a=0;a<o;a++)if(s[a]!==i[a]){d=a;break}var g=[];for(a=d;a<s.length;a++)g.push("..");return(g=g.concat(i.slice(d))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=s(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=s(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return s(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(13))},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),s=new(r(11).Logger),i="443";t.retrieveRemoteFile=function(e,t){if("function"!=typeof t)throw new Error("Provided callback is not a function.");s.log(`Requesting file via NodeJS request: ${e.remote_host}${e.remote_path}${e.file_name}`);let r={host:e.remote_host,port:i,path:e.remote_path+e.file_name,method:"GET"},o=n.get(r,e=>{var r="";e.setEncoding("utf8"),e.on("data",function(e){r+=e}),e.on("end",function(){t(r)})});return o.on("error",e=>{s.log(`Request error: ${e.message}`)}),o}},function(e,t,r){var n=r(16),s=e.exports;for(var i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);s.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",n.request.call(this,e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16);t.CSVOutput=class{constructor(e=",",t=!0,r=!1){this._separator=e,this._explicit_direction=t,this._direction_mode=r}writeToAdjacencyListFile(e,t){if("undefined"!=typeof window&&null!==window)throw new Error("cannot write to File inside of Browser");n.writeFileSync(e,this.writeToAdjacencyList(t))}writeToAdjacencyList(e){var t="",r=e.getNodes(),n=null,s=null,i=null,o=e=>e.node.getID();for(var d in r){for(var a in t+=(n=r[d]).getID(),s=n.reachNodes(o))i=s[a].node,t+=this._separator+i.getID();t+="\n"}return t}writeToEdgeListFile(e,t){throw new Error("CSVOutput.writeToEdgeListFile not implemented yet.")}writeToEdgeList(e){throw new Error("CSVOutput.writeToEdgeList not implemented yet.")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),s=r(4),i=r(17),o=1,d=".json";t.JSONInput=class{constructor(e=!0,t=!1,r=!1){this._explicit_direction=e,this._direction=t,this._weighted_mode=r}readFromJSONFile(e){this.checkNodeEnvironment();var t=JSON.parse(n.readFileSync(e).toString());return this.readFromJSON(t)}readFromJSONURL(e,t){var r,n,s=this;if("undefined"!=typeof window){let i=e.remote_host+e.remote_path+e.file_name+d;(n=new XMLHttpRequest).onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);r=s.readFromJSON(e),t&&t(r,void 0)}},n.open("GET",i,!0),n.timeout=6e4,n.setRequestHeader("Content-Type","application/json"),n.send()}else i.retrieveRemoteFile(e,function(e){r=s.readFromJSON(JSON.parse(e)),t(r,void 0)})}readFromJSON(e){var t,r,n,i,d=new s.BaseGraph(e.name);for(var a in e.data){var g=d.hasNodeID(a)?d.getNodeById(a):d.addNodeByID(a);if((i=e.data[a].features)&&g.setFeatures(i),t=e.data[a].coords){for(n in r={},t)r[n]=+t[n];g.setFeature("coords",r)}var h=e.data[a].edges;for(var l in h){var u=h[l],c=u.to,_=this._explicit_direction?u.directed:this._direction,f=_?"d":"u",p=this.handleEdgeWeights(u),I=p==p?p:o,D=this._weighted_mode?I:void 0,E=d.hasNodeID(c)?d.getNodeById(c):d.addNodeByID(c),N=a+"_"+c+"_"+f,y=c+"_"+a+"_"+f;d.hasEdgeID(N)||!_&&d.hasEdgeID(y)||d.addEdgeByID(N,g,E,{directed:_,weighted:this._weighted_mode,weight:D})}}return d}handleEdgeWeights(e){switch(e.weight){case"undefined":return o;case"Infinity":return Number.POSITIVE_INFINITY;case"-Infinity":return Number.NEGATIVE_INFINITY;case"MAX":return Number.MAX_VALUE;case"MIN":return Number.MIN_VALUE;default:return parseFloat(e.weight)}}checkNodeEnvironment(){if("undefined"!=typeof window)throw new Error("Cannot read file in browser environment.")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16);t.JSONOutput=class{constructor(){}writeToJSONFile(e,t){if("undefined"!=typeof window&&null!==window)throw new Error("cannot write to File inside of Browser");n.writeFileSync(e,this.writeToJSONSString(t))}writeToJSONSString(e){let t,r,n,s,i,o,d;var a={name:e._label,nodes:e.nrNodes(),dir_edges:e.nrDirEdges(),und_edges:e.nrUndEdges(),data:{}};t=e.getNodes();for(let e in t){r=t[e],n=a.data[r.getID()]={edges:[]},s=r.undEdges();for(let e in s){let t=(o=s[e]).getNodes();n.edges.push({to:t.a.getID()===r.getID()?t.b.getID():t.a.getID(),directed:o.isDirected(),weight:o.isWeighted()?o.getWeight():void 0})}i=r.outEdges();for(let e in i){let t=(o=i[e]).getNodes();n.edges.push({to:t.b.getID(),directed:o.isDirected(),weight:this.handleEdgeWeight(o)})}n.features=r.getFeatures(),null!=(d=r.getFeature("coords"))&&(n.coords=d)}return JSON.stringify(a)}handleEdgeWeight(e){if(e.isWeighted())switch(e.getWeight()){case Number.POSITIVE_INFINITY:return"Infinity";case Number.NEGATIVE_INFINITY:return"-Infinity";case Number.MAX_VALUE:return"MAX";case Number.MIN_VALUE:return"MIN";default:return e.getWeight()}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);function s(e,t,r,s){let i=[e],o=0;for(;i.length>0;){let d=i.pop();if(!(d==e&&o>0)){for(let a=0;a<r[d][t].length;a++)r[d][t][a]==t&&0==o?s[e][t]=n.mergeOrderedArraysNoDups(s[e][t],[t]):r[d][t][a]==t?s[e][t]=n.mergeOrderedArraysNoDups(s[e][t],[d]):i=n.mergeOrderedArraysNoDups(i,[r[d][t][a]]);o++}}}t.FloydWarshallAPSP=function(e){if(0===e.nrDirEdges()&&0===e.nrUndEdges())throw new Error("Cowardly refusing to traverse graph without edges.");let t=e.adjListArray(),r=e.nextArray(),s=t.length;for(var i=0;i<s;++i)for(var o=0;o<s;++o)for(var d=0;d<s;++d)i!=o&&i!=d&&o!=d&&t[o][d]==t[o][i]+t[i][d]&&t[o][d]!==Number.POSITIVE_INFINITY&&(r[o][d]=n.mergeOrderedArraysNoDups(r[o][d],r[o][i])),i!=o&&i!=d&&o!=d&&t[o][d]>t[o][i]+t[i][d]&&(r[o][d]=r[o][i].slice(0),t[o][d]=t[o][i]+t[i][d]);return[t,r]},t.FloydWarshallArray=function(e){if(0===e.nrDirEdges()&&0===e.nrUndEdges())throw new Error("Cowardly refusing to traverse graph without edges.");let t=e.adjListArray(),r=t.length;for(var n=0;n<r;++n)for(var s=0;s<r;++s)for(var i=0;i<r;++i)n!=s&&n!=i&&s!=i&&t[s][i]>t[s][n]+t[n][i]&&(t[s][i]=t[s][n]+t[n][i]);return t},t.FloydWarshallDict=function(e){if(0===e.nrDirEdges()&&0===e.nrUndEdges())throw new Error("Cowardly refusing to traverse graph without edges.");let t=function(e){let t={},r=n.mergeObjects([e.getDirEdges(),e.getUndEdges()]);for(let e in r){let n=r[e].getNodes().a.getID(),s=r[e].getNodes().b.getID();null==t[n]&&(t[n]={}),t[n][s]=isNaN(r[e].getWeight())?1:r[e].getWeight(),r[e].isDirected()||(null==t[s]&&(t[s]={}),t[s][n]=isNaN(r[e].getWeight())?1:r[e].getWeight())}return t}(e);for(var r in t)for(var s in t)for(var i in t)s!==i&&null!=t[s][r]&&null!=t[r][i]&&(!t[s][i]&&0!=t[s][i]||t[s][i]>t[s][r]+t[r][i])&&(t[s][i]=t[s][r]+t[r][i]);return t},t.changeNextToDirectParents=function(e){let t=[];for(let r=0;r<e.length;r++){t.push([]);for(let n=0;n<e.length;n++)t[r].push([]),t[r][n]=e[r][n]}for(let r=0;r<e.length;r++)for(let n=0;n<e.length;n++)null!=e[r][n][0]&&(r==n||1===e[r][n].length&&e[r][n][0]===n||(t[r][n]=[],s(r,n,e,t)));return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new(r(11).Logger);t.SimplePerturber=class{constructor(e){this._graph=e}randomlyDeleteNodesPercentage(e){e>100&&(e=100);let t=Math.ceil(this._graph.nrNodes()*e/100);this.randomlyDeleteNodesAmount(t)}randomlyDeleteUndEdgesPercentage(e){e>100&&(e=100);let t=Math.ceil(this._graph.nrUndEdges()*e/100);this.randomlyDeleteUndEdgesAmount(t)}randomlyDeleteDirEdgesPercentage(e){e>100&&(e=100);let t=Math.ceil(this._graph.nrDirEdges()*e/100);this.randomlyDeleteDirEdgesAmount(t)}randomlyDeleteNodesAmount(e){if(e<0)throw"Cowardly refusing to remove a negative amount of nodes";if(0!==this._graph.nrNodes())for(let t=0,r=this._graph.pickRandomProperties(this._graph.getNodes(),e);t<r.length;t++)this._graph.deleteNode(this._graph.getNodes()[r[t]])}randomlyDeleteUndEdgesAmount(e){if(e<0)throw"Cowardly refusing to remove a negative amount of edges";if(0!==this._graph.nrUndEdges())for(let t=0,r=this._graph.pickRandomProperties(this._graph.getUndEdges(),e);t<r.length;t++)this._graph.deleteEdge(this._graph.getUndEdges()[r[t]])}randomlyDeleteDirEdgesAmount(e){if(e<0)throw"Cowardly refusing to remove a negative amount of edges";if(0!==this._graph.nrDirEdges())for(let t=0,r=this._graph.pickRandomProperties(this._graph.getDirEdges(),e);t<r.length;t++)this._graph.deleteEdge(this._graph.getDirEdges()[r[t]])}randomlyAddUndEdgesPercentage(e){let t=Math.ceil(this._graph.nrUndEdges()*e/100);this.randomlyAddEdgesAmount(t,{directed:!1})}randomlyAddDirEdgesPercentage(e){let t=Math.ceil(this._graph.nrDirEdges()*e/100);this.randomlyAddEdgesAmount(t,{directed:!0})}randomlyAddEdgesAmount(e,t){if(e<=0)throw new Error("Cowardly refusing to add a non-positive amount of edges");let r,n,s=!(!t||!t.directed)&&t.directed,i=s?"_d":"_u";for(;e;){for(r=this._graph.getRandomNode();(n=this._graph.getRandomNode())===r;);let t=`${r.getID()}_${n.getID()}${i}`;r.hasEdgeID(t)||(this._graph.addEdgeByID(t,r,n,{directed:s}),--e)}}randomlyAddNodesPercentage(e,t){let r=Math.ceil(this._graph.nrNodes()*e/100);this.randomlyAddNodesAmount(r,t)}randomlyAddNodesAmount(e,t){if(e<0)throw"Cowardly refusing to add a negative amount of nodes";let r={};for(;e--;){let e=(Math.random()+1).toString(36).substr(2,32)+(Math.random()+1).toString(36).substr(2,32);r[e]=this._graph.addNodeByID(e)}null!=t&&this.createEdgesByConfig(t,r)}createEdgesByConfig(e,t){let r,n,s;null!=e.und_degree||null!=e.dir_degree||null!=e.min_und_degree&&null!=e.max_und_degree||null!=e.min_dir_degree&&null!=e.max_dir_degree?(null!=(r=e.und_degree)?this.createRandomEdgesSpan(r,r,!1,t):null!=(n=e.min_und_degree)&&null!=(s=e.max_und_degree)&&this.createRandomEdgesSpan(n,s,!1,t),(r=e.dir_degree)?this.createRandomEdgesSpan(r,r,!0,t):null!=(n=e.min_dir_degree)&&null!=(s=e.max_dir_degree)&&this.createRandomEdgesSpan(n,s,!0,t)):(null!=e.probability_dir&&this.createRandomEdgesProb(e.probability_dir,!0,t),null!=e.probability_und&&this.createRandomEdgesProb(e.probability_und,!1,t))}createRandomEdgesProb(e,t,r){if(0>e||1<e)throw new Error("Probability out of range.");t=t||!1,r=r||this._graph.getNodes();let n,s,i,o=this._graph.getNodes(),d=t?"_d":"_u";for(n in r)for(s in o)if(n!==s&&Math.random()<=e){if(i=o[n].getID()+"_"+o[s].getID()+d,this._graph.getNodes()[n].hasEdgeID(i))continue;this._graph.addEdgeByID(i,o[n],o[s],{directed:t})}}createRandomEdgesSpan(e,t,r,n){if(e<0)throw new Error("Minimum degree cannot be negative.");if(t>=this._graph.nrNodes())throw new Error("Maximum degree exceeds number of reachable nodes.");if(e>t)throw new Error("Minimum degree cannot exceed maximum degree.");r=r||!1,e|=0,t|=0;var s,i,o,d,a,g=n||this._graph.getNodes(),h=this._graph.getNodes(),l=Object.keys(h),u=l.length,c=r?"_d":"_u";for(s in g)for(i=g[s],a=Math.random()*(t-e)+e|0;a;)if(i!==(o=h[l[u*Math.random()|0]])){if(d=i.getID()+"_"+o.getID()+c,i.hasEdgeID(d))continue;this._graph.addEdgeByID(d,i,o,{directed:r}),--a}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),s=new(r(11).Logger);t.MCMFBoykov=class{constructor(e,t,r,n){this._graph=e,this._source=t,this._sink=r,this._state={residGraph:null,activeNodes:{},orphans:{},treeS:{},treeT:{},parents:{},path:[],tree:{}},this._config=n||this.prepareMCMFStandardConfig(),this._config.directed&&this.renameEdges(e),this._state.residGraph=this._graph,this._config.directed||(this._state.residGraph=this.convertToDirectedGraph(this._state.residGraph),this._source=this._state.residGraph.getNodeById(this._source.getID()),this._sink=this._state.residGraph.getNodeById(this._sink.getID()))}calculateCycle(){var e={edges:[],edgeIDs:[],cost:0};this._state.treeS[this._source.getID()]=this._source,this._state.tree[this._source.getID()]="S",this._state.treeT[this._sink.getID()]=this._sink,this._state.tree[this._sink.getID()]="T",this._state.activeNodes[this._source.getID()]=this._source,this._state.activeNodes[this._sink.getID()]=this._sink;for(var t=0;this.grow(),this._state.path.length;)this.augmentation(),this.adoption(),++t;s.log("computing result");var r=Object.keys(this._state.treeS).length<Object.keys(this._state.treeT).length?this._state.treeS:this._state.treeT,n=Object.keys(r).length,i=Object.keys(r);for(let t=0;t<n;t++){var o=i[t],d=this._graph.getNodeById(o);if(this._config.directed){var a=Object.keys(d.outEdges()),g=a.length,h=Object.keys(d.inEdges()),l=h.length;for(let t=0;t<g;t++)p=(f=this._graph.getEdgeById(a[t])).getNodes().b,this._state.tree[p.getID()]!=this._state.tree[d.getID()]&&(e.edges.push(f),e.edgeIDs.push(f.getID()),e.cost+=f.getWeight());for(let t=0;t<l;t++)p=(f=this._graph.getEdgeById(h[t])).getNodes().a,this.tree(p)!=this.tree(d)&&(e.edges.push(f),e.edgeIDs.push(f.getID()),e.cost+=f.getWeight())}else{var u=d.undEdges(),c=Object.keys(u).length,_=Object.keys(u);for(let t=0;t<c;t++){var f,p=(f=u[_[t]]).getNodes().a.getID()==d.getID()?f.getNodes().b:f.getNodes().a;this._state.tree[p.getID()]!=this._state.tree[d.getID()]&&(e.edges.push(f),e.edgeIDs.push(f.getID()),e.cost+=f.getWeight())}}}return s.log("Cost => "+e.cost),s.log("# cycles => "+t),e}renameEdges(e){var t=e.getDirEdges(),r=Object.keys(t),n=r.length;for(let g=0;g<n;g++){var s=t[r[g]],i=s.getWeight();e.deleteEdge(s);var o=s.getNodes().a,d=s.getNodes().b,a={directed:!0,weighted:!0,weight:i};e.addEdgeByID(o.getID()+"_"+d.getID(),o,d,a)}}convertToDirectedGraph(e){var t=new n.BaseGraph(e._label+"_directed"),r=e.getNodes(),s=Object.keys(r),i=s.length;for(let e=0;e<i;e++){var o=r[s[e]];t.addNodeByID(o.getID())}var d=e.getUndEdges(),a=Object.keys(d),g=a.length;for(let e=0;e<g;e++){var h=d[a[e]],l=h.getNodes().a.getID(),u=h.getNodes().b.getID(),c={directed:!0,weighted:!0,weight:h.getWeight()};t.addEdgeByID(l+"_"+u,t.getNodeById(l),t.getNodeById(u),c),t.addEdgeByID(u+"_"+l,t.getNodeById(u),t.getNodeById(l),c)}return t}tree(e){var t="";return e.getID()in this._state.treeS?t="S":e.getID()in this._state.treeT?t="T":t}getPathToRoot(e){var t=[],r=e.getID();t.push(this._graph.getNodeById(r));for(var n=this._sink.getID(),s=this._source.getID();r!=n&&r!=s;){if(null==this._state.parents[r])return t;r=this._state.parents[r].getID(),t.push(this._graph.getNodeById(r))}return t}getBottleneckCapacity(){var e=0,t=(e=this._state.residGraph.getEdgeById(this._state.path[0].getID()+"_"+this._state.path[1].getID()).getWeight(),this._state.path.length-1);for(let i=0;i<t;i++){var r=this._state.path[i],n=this._state.path[i+1],s=this._state.residGraph.getEdgeById(r.getID()+"_"+n.getID());s.getWeight()<e&&(e=s.getWeight())}return e}grow(){for(var e=Object.keys(this._state.activeNodes).length,t=Object.keys(this._state.activeNodes);e;){var r=this._state.activeNodes[t[0]],n="S"==this._state.tree[r.getID()]?r.outEdges():r.inEdges(),s=Object.keys(n),i=s.length;for(let u=0;u<i;u++){var o=n[s[u]],d="S"==this._state.tree[r.getID()]?o.getNodes().b:o.getNodes().a;if(!(o.getWeight()<=0))if(this._state.tree[d.getID()]){if(this._state.tree[d.getID()]!=this._state.tree[r.getID()]){var a,g=this.getPathToRoot(d),h=this.getPathToRoot(r),l=g[g.length-1];return a="S"==this._state.tree[l.getID()]?(g=g.reverse()).concat(h):(h=h.reverse()).concat(g),void(this._state.path=a)}}else"S"==this._state.tree[r.getID()]?(this._state.treeS[d.getID()]=d,this._state.tree[d.getID()]="S"):(this._state.treeT[d.getID()]=d,this._state.tree[d.getID()]="T"),this._state.parents[d.getID()]=r,this._state.activeNodes[d.getID()]=d,t.push(d.getID()),++e}delete this._state.activeNodes[r.getID()],t.shift(),--e}this._state.path=[]}augmentation(){var e=this.getBottleneckCapacity();for(let i=0;i<this._state.path.length-1;i++){var t=this._state.path[i],r=this._state.path[i+1],n=this._state.residGraph.getEdgeById(t.getID()+"_"+r.getID()),s=this._state.residGraph.getEdgeById(r.getID()+"_"+t.getID());this._state.residGraph.getEdgeById(n.getID()).setWeight(n.getWeight()-e),this._state.residGraph.getEdgeById(s.getID()).setWeight(s.getWeight()+e),(n=this._state.residGraph.getEdgeById(n.getID())).getWeight()||this._state.tree[t.getID()]==this._state.tree[r.getID()]&&("S"==this._state.tree[r.getID()]&&(delete this._state.parents[r.getID()],this._state.orphans[r.getID()]=r),"T"==this._state.tree[t.getID()]&&(delete this._state.parents[t.getID()],this._state.orphans[t.getID()]=t))}}adoption(){for(var e=Object.keys(this._state.orphans),t=e.length;t;){var r=this._state.orphans[e[0]];delete this._state.orphans[r.getID()],e.shift(),--t;var n="S"==this._state.tree[r.getID()]?r.inEdges():r.outEdges(),s=Object.keys(n),i=s.length,o=!1;for(let e=0;e<i;e++){var d=n[s[e]],a="S"==this._state.tree[r.getID()]?d.getNodes().a:d.getNodes().b;if(this._state.tree[r.getID()]==this._state.tree[a.getID()]&&d.getWeight()){var g=this.getPathToRoot(a),h=g[g.length-1];if(h.getID()==this._sink.getID()||h.getID()==this._source.getID()){this._state.parents[r.getID()]=a,o=!0;break}}}if(!o){for(let o=0;o<i;o++)if(d=n[s[o]],a="S"==this._state.tree[r.getID()]?d.getNodes().a:d.getNodes().b,this._state.tree[r.getID()]==this._state.tree[a.getID()]){if(d.getWeight()&&(this._state.activeNodes[a.getID()]=a),null==this._state.parents[a.getID()])continue;this._state.parents[a.getID()].getID()==r.getID()&&(this._state.orphans[a.getID()]=a,e.push(a.getID()),++t,delete this._state.parents[a.getID()])}var l=this._state.tree[r.getID()];"S"==l?(delete this._state.treeS[r.getID()],delete this._state.tree[r.getID()]):"T"==l&&(delete this._state.treeT[r.getID()],delete this._state.tree[r.getID()]),delete this._state.activeNodes[r.getID()]}}}prepareMCMFStandardConfig(){return{directed:!0}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);var s;!function(e){e[e.in=0]="in",e[e.out=1]="out",e[e.und=2]="und",e[e.dir=3]="dir",e[e.all=4]="all"}(s=t.DegreeMode||(t.DegreeMode={}));t.DegreeCentrality=class{getCentralityMap(e,t,r){t=null==t||!!t;let i={};switch(r=null==r?s.all:r){case s.in:for(let r in e.getNodes()){let n=e.getNodeById(r);if(null!=n)if(t){i[r]=i[r]||0;for(let e in n.inEdges())i[r]+=n.inEdges()[e].getWeight()}else i[r]=n.inDegree()}break;case s.out:for(let r in e.getNodes()){let n=e.getNodeById(r);if(null!=n)if(t){i[r]=i[r]||0;for(let e in n.outEdges())i[r]+=n.outEdges()[e].getWeight()}else i[r]=n.outDegree()}break;case s.und:for(let r in e.getNodes()){let n=e.getNodeById(r);if(null!=n)if(t){i[r]=i[r]||0;for(let e in n.undEdges())i[r]+=n.undEdges()[e].getWeight()}else i[r]=n.degree()}break;case s.dir:for(let r in e.getNodes()){let s=e.getNodeById(r);if(null!=s)if(t){i[r]=i[r]||0;let e=n.mergeObjects([s.inEdges(),s.outEdges()]);for(let t in e)i[r]+=e[t].getWeight()}else i[r]=s.inDegree()+s.outDegree()}break;case s.all:for(let r in e.getNodes()){let s=e.getNodeById(r);if(null!=s)if(t){i[r]=i[r]||0;let e=n.mergeObjects([s.inEdges(),s.outEdges(),s.undEdges()]);for(let t in e)i[r]+=e[t].getWeight()}else i[r]=s.degree()+s.inDegree()+s.outDegree()}}return i}degreeDistribution(e){var t,r,n,s=0,i=e.getNodes();for(t in i)s=(n=(r=i[t]).inDegree()+r.outDegree()+r.degree()+1)>s?n:s;var o={in:new Uint32Array(s),out:new Uint32Array(s),dir:new Uint32Array(s),und:new Uint32Array(s),all:new Uint32Array(s)};for(t in i)r=i[t],o.in[r.inDegree()]++,o.out[r.outDegree()]++,o.dir[r.inDegree()+r.outDegree()]++,o.und[r.degree()]++,o.all[r.inDegree()+r.outDegree()+r.degree()]++;return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),s=r(22);t.closenessCentrality=class{getCentralityMapFW(e){let t=s.FloydWarshallArray(e),r=[],n=t.length;for(let e=0;e<n;++e){let s=0;for(let r=0;r<n;++r)t[e][r]!=Number.POSITIVE_INFINITY&&(s+=t[e][r]);r[e]=1/s}return r}getCentralityMap(e){let t=n.preparePFSStandardConfig(),r=0,s=t.callbacks.better_path.pop();t.callbacks.better_path.push(function(e){r-=t.result[e.next.node.getID()].distance-e.proposed_dist}),t.callbacks.better_path.push(s),t.callbacks.not_encountered.push(function(e){r+=e.current.best+(isNaN(e.next.edge.getWeight())?1:e.next.edge.getWeight())});let i={};for(let s in e.getNodes()){let o=e.getNodeById(s);null!=o&&(r=0,n.PFS(e,o,t),i[s]=1/r)}return i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),s=r(28);t.betweennessCentrality=function(e,t,r){let i;i=(r=r||!1)?s.Johnsons(e)[1]:n.changeNextToDirectParents(n.FloydWarshallAPSP(e)[1]);let o=e.getNodes(),d=Object.keys(o),a={};for(let e in o)a[e]=0;let g=i.length;for(var h=0;h<g;++h)for(var l=0;l<g;++l)if(h!=l&&(1!=i[h][l].length||i[h][l][0]!=l)&&null!=i[h][l][0]){let e={},t=[],r=0;do{let n=l,s=0;for(r++;;){let r=i[h][n],o=!1;if(1==r.length&&r[0]==n)break;if(1==r.length&&((n=r[0])in e?e[n]+=1:e[n]=1),r.length>1)if(0==t.length)t.push([0,r.length]),r[0]==n?o=!0:(n=r[0])in e?e[n]+=1:e[n]=1,s++;else if(s<t.length){let i=t[s][0];r[i]==n?o=!0:(n=r[i])in e?e[n]+=1:e[n]=1,s++}else t.push([0,r.length]),r[0]==n?o=!0:(n=r[0])in e?e[n]+=1:e[n]=1,s++;if(o)break}if(t.length>0)for(t[t.length-1][0]++;t[t.length-1][0]==t[t.length-1][1]&&(t.splice(t.length-1,1),0!=t.length);)t[t.length-1][0]++}while(0!=t.length);for(let t in e)a[d[t]]+=e[t]/r}return a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),s=r(9),i=r(8),o=r(3);function d(e,t){let r=e.getNodes();e.addNode(t);let n=0;for(let s in r)r[s].getID()!=t.getID()&&(e.addEdgeByNodeIDs("temp"+n,t.getID(),r[s].getID(),{directed:!0,weighted:!0,weight:0}),n++);return e}function a(e,t,r){let n=e.getDirEdgesArray().concat(e.getUndEdgesArray());for(let d of n){var i=d.getNodes().a.getID(),o=d.getNodes().b.getID();if(i!=r.getID())if(d.isWeighted){let e=d.getWeight()+t[i]-t[o];d.setWeight(e)}else{let r=s.DEFAULT_WEIGHT+t[i]-t[o],n=d.getID(),a=d.isDirected();e.deleteEdge(d),e.addEdgeByNodeIDs(n,i,o,{directed:a,weighted:!0,weight:r})}}return e}function g(e){let t=e.adjListArray(),r=e.nextArray(),n=e.getNodes(),i={},d=0;for(let e in n)i[n[e].getID()]=d++;let a=s.preparePFSStandardConfig();a.callbacks.not_encountered.splice(0,1,function(e){e.next.best=e.current.best+(isNaN(e.next.edge.getWeight())?s.DEFAULT_WEIGHT:e.next.edge.getWeight());let n=i[e.root_node.getID()],o=i[e.next.node.getID()];e.current.node==e.root_node?(t[n][o]=e.next.best,r[n][o][0]=o):(t[n][o]=e.next.best,r[n][o][0]=i[e.current.node.getID()])});a.callbacks.better_path.splice(0,1,function(e){let n=i[e.root_node.getID()],s=i[e.next.node.getID()];t[n][s]=e.proposed_dist,e.current.node!==e.root_node&&r[n][s].splice(0,r[n][s].length,i[e.current.node.getID()])});a.callbacks.equal_path.push(function(e){let t=i[e.root_node.getID()],n=i[e.next.node.getID()];e.current.node!==e.root_node&&(r[t][n]=o.mergeOrderedArraysNoDups(r[t][n],[i[e.current.node.getID()]]))});for(let t in n)s.PFS(e,n[t],a);return[t,r]}t.Johnsons=function(e){if(0===e.nrDirEdges()&&0===e.nrUndEdges())throw new Error("Cowardly refusing to traverse graph without edges.");let t=e.getNodes();if(Object.keys(t),e.hasNegativeEdge()){var r=new n.BaseNode("extraNode");e=d(e,r);let t=i.BellmanFordDict(e,r);if(t.neg_cycle)throw new Error("The graph contains a negative cycle, thus it can not be processed");return(e=a(e,t.distances,r)).deleteNode(r),g(e)}return g(e)},t.addExtraNandE=d,t.reWeighGraph=a,t.PFSFromAllNodes=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),s=r(30);t.pageRankDetCentrality=class{getCentralityMap(e,t){let r={},i=[],o=0,d={};for(let t in e.getNodes())r[t]=0;for(let t in e.getNodes()){d[t]=o;let s=e.getNodeById(t),a=n.mergeObjects([s.inEdges(),s.undEdges()]);i[o]=new Array;for(let e in a){let t=a[e];t.getNodes().a.getID()==s.getID()?(i[o].push(t.getNodes().b.getID()),r[t.getNodes().b.getID()]++):(i[o].push(t.getNodes().a.getID()),r[t.getNodes().a.getID()]++)}i[o].push(s.getID()),o++}o=0;let a={},g=[[]];for(let t in i){g[t]=Array.apply(null,Array(e.nrNodes())).map(Number.prototype.valueOf,0);let n=i[t].pop();null==a[n]&&(a[n]=o++),g[t][a[n]]=-1;for(let e in i[t]){let n=i[t][e];null==a[n]&&(a[n]=o++),g[t][a[n]]+=1/r[n]}}g[g.length-1]=Array.apply(null,Array(e.nrNodes())).map(Number.prototype.valueOf,1);let h=Array.apply(null,Array(e.nrNodes())).map(Number.prototype.valueOf,0);h[h.length-1]=1,h=s.gauss(g,h);let l={};for(let e in d)l[e]=h[o];return h}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.abs;t.gauss=function(e,t){var n,s,i;for(n=0;n<e.length;n++)e[n].push(t[n]);var o=e.length;for(n=0;n<o;n++){var d=r(e[n][n]),a=n;for(s=n+1;s<o;s++)r(e[s][n])>d&&(d=r(e[s][n]),a=s);for(s=n;s<o+1;s++){var g=e[a][s];e[a][s]=e[n][s],e[n][s]=g}for(s=n+1;s<o;s++){var h=-e[s][n]/e[n][n];for(i=n;i<o+1;i++)n===i?e[s][i]=0:e[s][i]+=h*e[n][i]}}for(t=function(e,t,r){for(var n=[];e<t;e++)n.push(r);return n}(0,o,0),n=o-1;n>-1;n--)for(t[n]=e[n][o]/e[n][n],s=n-1;s>-1;s--)e[s][o]-=e[s][n]*t[n];return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.pageRankCentrality=class{getCentralityMap(e,t,r,s,i){null==r&&(r=.1),null==i&&(i=1e3),null==s&&(s=125e-6);let o={},d={},a=e.nrNodes(),g={};for(let t in e.getNodes()){t=String(t);let r=e.getNodeById(t);g[t]={},g[t].deg=r.outDegree()+r.degree(),g[t].inc=[];let s=n.mergeObjects([r.inEdges(),r.undEdges()]);for(let e in s){let n=s[e],i=n.getNodes().a;n.getNodes().a.getID()==r.getID()&&(i=n.getNodes().b),g[t].inc.push(i.getID())}}for(let t in e.getNodes())o[t=String(t)]=1/a,d[t]=1/a;for(let t=0;t<i;t++){let t=0;for(let n in e.getNodes()){let e=0,s=g[n=String(n)].inc;for(let t in s){let r=String(s[t]);e+=d[r]/g[r].deg}o[n]=e*(1-r)+r/a,t+=Math.abs(o[n]-d[n])}if(t<=s)return o;d=n.clone(o)}return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);t.KROL=class{constructor(e){this._config=e||this.prepareKROLStandardConfig(),this._genMat=this._config.genMat,this._cycles=this._config.cycles,this._graph=new n.BaseGraph("synth")}generate(){var e=this._genMat[0].length,t=Math.pow(e,this._cycles+1);for(let e=0;e<t;e++)this._graph.addNodeByID(e.toString());for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.addEdge(r,n,e)&&this._graph.addEdgeByNodeIDs(r+"_"+n,r.toString(),n.toString());return{graph:this._graph}}addEdge(e,t,r){var n=Math.random(),s=1;for(let d=0;d<this._cycles;d++){var i=Math.floor(e/Math.pow(r,d+1))%r,o=Math.floor(t/Math.pow(r,d+1))%r;if(n>(s*=this._genMat[i][o]))return!1}return!0}prepareKROLStandardConfig(){return{genMat:[[.9,.5],[.5,.1]],cycles:5}}}}]);